// Columns is a work in progress.

@mixin container($width: $container-width, $gutter: $grid-padding) {
  max-width: $width;
  margin: 0px auto;
  padding: 0px $gutter;
  @include clearfix;
}

@mixin make-columns($gutter: $grid-padding, $column-selector: ".column") {
  margin-left: -($gutter / 2);
  margin-right: -($gutter / 2);
  @include clearfix;

  @at-root {
    #{$column-selector} {
      padding-left: $gutter;
      padding-right: $gutter;
      float: left;
    }
  }

  $fractions: (
    half:       50%,
    third:      33.333333%,
    fourth:     25%,
    fifth:      20%,
    sixth:      16.666667%,
    seventh:    14.285714286%,
    eighth:     12.5%,
    ninth:      11.111111111%,
    tenth:      10%,
    eleventh:   9.090909091%,
    twelfth:    8.333333333%
  );

  $numbers: one two three four five six seven eight nine ten eleven;

  @each $fraction, $width in $fractions {
    $index: index($fractions, $fraction $width);

    @while $index > 0 {
      $plural: $fraction + 's';

      @if $index == 1 {
        $plural: $fraction;
      }

      $base-selector: nth($numbers, $index) + '-' + $plural;

      @at-root {
        .#{$base-selector}      { width: ($width * $index);        }
        .push-#{$base-selector} { margin-left: ($width * $index);  }
        .pull-#{$base-selector} { margin-right: ($width * $index); }
      }

      $index: $index - 1;
    }
  }
}

.column-row {
  @include make-columns();
}
